#include <signal.h>

#define SIGFAIL SIGABRT

#define assert(test, message) \
if (!(test)) {\
	printf ("%s:%u: failed assertion `%s'\n", __FILE__, __LINE__, #test); \
	message; \
    printf("RAISING!\n");\
	raise(SIGFAIL); \
    printf("AFTER RAISE!\n");\
}

#define assert0(test)\
if (!(test)) {\
	printf ("%s:%u: failed assertion `%s'\n", __FILE__, __LINE__, #test); \
    printf("RAISING!\n");\
	raise(SIGFAIL); \
    printf("AFTER RAISE!\n");\
}

#define assert1(test, message)  \
if (!(test)) { \
	printf ("%s:%u: failed assertion `%s'\n", __FILE__, __LINE__, #test); \
	printf(message); \
    printf("RAISING!\n");\
	raise(SIGFAIL); \
    printf("AFTER RAISE!\n");\
}

/* ========================================================================== */

extern void store_method(Type_Class class, Object symbol, Object method);
extern void store_native_method(Type_Class class, Object symbol, native code);
extern wchar_t * Object_classname(Object self);


